state:
  checkpoints:
    dir: "s3://flink-state-persistent/checkpoints/"
  savepoints:
    dir: "s3://flink-state-persistent/savepoints/"
  backend:
    rocksdb:
      localdir: "/opt/flink/rocksdb"
      timer-service:
        factory: "rocksdb"
  checkpoint-storage: "filesystem"

execution:
  checkpointing:
    interval: "30s"
    min-pause: "5s"
    timeout: "10min"
    max-concurrent-checkpoints: 1
    mode: "EXACTLY_ONCE"
    externalized-checkpoint-retention: "RETAIN_ON_CANCELLATION"

# High Availability Configuration with Zookeeper
high-availability:
  type: "zookeeper"
  storageDir: "s3://flink-state-persistent/ha/"
  zookeeper:
    quorum: "zookeeper:2181"
    path:
      root: "/flink"
    client:
      session-timeout: "60s"
      connection-timeout: "15s"
      retry-wait: "5s"
      max-retry-attempts: 3

s3:
  endpoint: "http://seaweedfs-s3:8333"
  access-key: "paimonAdmin123"
  secret-key: "paimonSecretKey456789abcdef"
  path:
    style:
      access: true
  trust:
    all:
      certificates: true