state:
  checkpoints:
    dir: "s3://your-prod-bucket/flink-checkpoints/"
  savepoints:
    dir: "s3://your-prod-bucket/flink-savepoints/"
  backend:
    rocksdb:
      localdir: "/opt/flink/rocksdb"
      timer-service:
        factory: "rocksdb"
  checkpoint-storage: "filesystem"

execution:
  checkpointing:
    interval: "30s"
    min-pause: "5s"
    timeout: "10min"
    max-concurrent-checkpoints: 1
    mode: "EXACTLY_ONCE"
    externalized-checkpoint-retention: "RETAIN_ON_CANCELLATION"

# High Availability Configuration with Zookeeper
high-availability:
  type: "zookeeper"
  storageDir: "s3://your-prod-bucket/flink-ha/"
  zookeeper:
    quorum: "your-zookeeper-host:2181"
    path:
      root: "/flink"
    client:
      session-timeout: "60s"
      connection-timeout: "15s"
      retry-wait: "5s"
      max-retry-attempts: 3

# S3 configuration for production
s3:
  endpoint: "https://your-s3-endpoint.com"
  access-key: "your-production-access-key"
  secret-key: "your-production-secret-key"
  path:
    style:
      access: true
  trust:
    all:
      certificates: false